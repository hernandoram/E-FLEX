<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="shortcut icon" type="image/jpeg" href="img/e-flex-logo.jpeg"/>
  <script src="https://unpkg.com/pdf-lib"></script>


  <title>Servicios E-FLEX</title>

  <!--autocompeltar-->
  <script type="text/javascript" src="https://www.aveonline.co/app/incluidos/jquery-1.9.1.min.js"></script>
  <script type="text/javascript" src="https://www.aveonline.co/app/modulos/utilidades/jquery.autocomplete.min.js"></script>
  <!-- Custom fonts for this template-->
  <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
  <link
    href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
    rel="stylesheet">

  <!-- Custom styles for this template-->
  <link href="css/sb-admin-2.min.css" rel="stylesheet">

  <!--Datatebles-->
  <link rel="stylesheet" type="text/css" href="vendor/datatables/dataTables.bootstrap4.min.css">

  <!--Cargador
  Para llamarlo, tengo que introducir <div class="lds-ellipsis"><div></div><div></div><div></div><div></div></div>-->
  <link rel="stylesheet" href="css/loader.css">

  <!--Sweet Alert 2-->
  <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <!--DropZone-->
  <!-- <script src="./assets/libs/dropzone/dropzone-amd-module.js"></script> -->
  <!-- <link rel="stylesheet" href="assets/libs/dropzone/basic.css"> -->
  <script src="./assets/libs/dropzone/dropzone.js"></script>
  <link rel="stylesheet" href="assets/libs/dropzone/min/dropzone.min.css">

</head>

<body class="bg-gradient-primary">
  <!--Verificar usuario comun-->
  <!-- <div id="verificarUsuarioComun" ></div> -->
  <!-- COTIZADOR -->
  <div id="sesionIniciada-mostrar-ocultar" style="display: block;">
    <!-- Page Wrapper -->
    <div id="wrapper">
      <!-- Sidebar -->
      <ul class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion toggled" id="accordionSidebar">
        <!-- Sidebar - Brand -->
        <a class="sidebar-brand d-flex align-items-center justify-content-center" href="plataforma2.html">
          <div class="sidebar-brand-icon rotate-n-15">
            E-FLEX
          </div>
          <!-- <div class="sidebar-brand-text mx-3" id="idUsuario"> </div> -->
        </a>

        <!-- Divider -->
        <hr class="sidebar-divider my-0">

        <!-- Nav Item - Cotizar envio -->
        <li class="nav-item">
          <a class="nav-link" href="#cotizar_envio">
            <i class="fas fa-fw fa-balance-scale"></i>
            <span>Cotizar envío</span></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#tienda">
            <i class="fas fa-fw fa-store"></i>
            <span>Tienda</span></a>
        </li>

        <!-- Divider -->
        <hr class="sidebar-divider">

        <!-- Heading -->
        <div class="sidebar-heading">
          Documentos
        </div>

        <!-- Nav Item - Pages Collapse Menu -->
        <li class="nav-item">
          <a class="nav-link" href="#historial_guias" onclick="mostrar('historial_guias')">
            <i class="fas fa-fw fa-cog"></i>
            <span>Guías</span>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="#documentos" onclick="mostrar('documentos')">
            <i class="fas fa-fw fa-file-alt"></i>
            <span>Documentos</span></a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="#novedades" onclick="revisarMovimientosGuias(false, 'once')">
            <span class="badge badge-counter icon-notificacion-novedad d-none">
              <i class="fa fa-exclamation-circle"></i>
            </span>
            <i class="fas fa-fw fa-exclamation"></i>
            <span>Novedades</span></a>
        </li>


        <!-- Divider -->
        <hr class="sidebar-divider">
        <li class="nav-item">
          <a class="nav-link" href="#" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo">
            <i class="fas fa-fw fa-dollar-sign"></i>
            <span>Pagos</span>
          </a>
          <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionSidebar">
            <div class="bg-white py-2 collapse-inner rounded">
              <h6 class="collapse-header">Gestor De Pagos:</h6>
              <a class="collapse-item" href="#pagos">Pagos</a>
              <a class="collapse-item" href="#deudas">Deudas</a>
            </div>
          </div>
        </li>

        <!-- Sidebar Toggler (Sidebar) -->
        <div class="text-center d-none d-md-inline">
          <button class="rounded-circle border-0" id="sidebarToggle"></button>
        </div>

      </ul>
      <!-- End of Sidebar -->


      <!-- Content Wrapper -->
      <div id="content-wrapper" class="d-flex flex-column">
        <div class="row">
          <div  class="text-center bg-dark text-white col-sm">Area logística +57 <a class="text-white" href="https://wa.link/j8l2ku">321 336 1911</a></div>
          <div  class="text-center bg-dark text-white col-sm">Comercial +57 <a class="text-white" href="https://wa.link/jwryoa">312 463 8608</a></div>
          <div class="text-center text-white bg-info col-sm">Saldo: <span class="text-white" id="saldo"></span></div>
        </div>
        <!-- Topbar -->
        <nav class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow">
            <!-- Sidebar Toggle (Topbar) -->
            <button id="sidebarToggleTop" class="btn btn-link d-md-none rounded-circle mr-3">
              <i class="fa fa-bars"></i>
            </button>
            <span class="badge badge-danger badge-counter position-relative icon-notificacion-novedad d-md-none d-none" style="left: -25px; top:-12px;">
              <i class="fa fa-exclamation"></i>
            </span>

            <!-- Topbar Navbar -->
            <ul class="navbar-nav ml-auto">
              <!--Notifications-->
              <li class="nav-item dropdown no-arrow mx-1">
                <a class="nav-link dropdown-toggle" href="#" id="notificaciones" role="button" 
                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <i class="fas fa-bell fa-fw"></i>
                  <span class="badge badge-danger badge-counter d-none">0</span>
                </a>
                <div class="dropdown-list dropdown-menu dropdown-menu-right shadow animated--grow-in overflow-auto" 
                aria-labelledby="notificaciones">
                  <h6 class="dropdown-header">
                    Centro de notificaciones
                  </h6>
                  <div id="mostrador-notificaciones"></div>
                  <p class="dropdown-item text-center small text-gray-500" onclick="eliminarNotificaciones()">
                    Eliminar Todas las notificaciones</p>
                </div>
              </li>
              
              <div class="topbar-divider d-none d-sm-block">
                
              </div>

              
                
              <!-- Nav Item - User Information -->
              <li class="nav-item dropdown no-arrow">
                <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-toggle="dropdown"
                  aria-haspopup="true" aria-expanded="false">
                  <span id="usuario" class="mr-2 d-lg-inline text-gray-600 small" ></span>
                  <img class="img-profile rounded-circle" src="img/unnamed.png">
                </a>
                
                <!-- Dropdown - User Information -->
                <div class="dropdown-menu dropdown-menu-right shadow animated--grow-in" aria-labelledby="userDropdown">
                  <a class="dropdown-item" href="#perfil" onclick="mostrar('perfil')" >
                    <i class="fas fa-user fa-sm fa-fw mr-2 text-gray-400"></i>
                    Perfil de usuario
                  </a>
                 
                  <a class="dropdown-item " href="#" data-toggle="modal" data-target="#cerrarSesionModal">
                    <i class="fas fa-user fa-sm fa-fw mr-2 text-gray-400"></i>
                    Salir
                  </a>
                </div>
              </li>
            </ul>
        </nav>
        <!-- End of Topbar -->

        <!-- Main Content -->
        <div id="content">     
          <!-- Begin Page Content -->
          <div class="container-fluid" id="cotizar_envio">

            <!-- Page Heading -->
            <div style="display: block;" id="cotizador">
              <h1 class="h3 mb-4 text-gray-800">Cotizar envío</h1>
              <hr class="sidebar-divider"></hr>
              <form class="user" name="cotizacionEnvio" id="cotizar-envio">
                <div class="form-group row">
                  <div class="col-sm-6 mb-2">
                    <h6>CIUDAD REMITENTE</h6>
                    <h6>**Escribir ciudad y luego elegir del menú desplegable**</h6>
                    <input   name="ciudadR" type="text" class="form-control form-control-user" id="ciudadR"  autocomplete="off" required>
                  </div>

                  <div class="col-sm-6 mb-2">
                    <h6>CIUDAD DESTINO</h6>
                    <h6>**Escribir ciudad y luego elegir del menú desplegable**</h6>
                    <input type="text"  name="ciudadD" class="form-control form-control-user" id="ciudadD" autocomplete="off"  required>
                  </div>
                </div>

                <div class="form-group row align-items-end mb-3">
                  <div class="col-sm-6 mb-3 mb-sm-3">
                    <h6>KILOS</h6>
                    <input type="number" class="form-control form-control-user" step="any" name="kilos" id="Kilos" min="1" max="25" autocomplete="off" required>  
                  </div>      
                  <div class="col mb-3 mb-sm-3">
                    <h6>Valor Declarado</h6>
                    <input type="number" onchange="this.classList.add('is-invalid')"
                    class="form-control form-control-user" id="seguro-mercancia" value="12500" step="1000" name="recaudo" autocomplete="off" min="5000" max="2000000" >
                    <div class="invalid-feedback">
                      Incrementar el valor asegurado también incrementará el costo del envío.
                    </div>
                  </div>      
                </div>

                <div class="form-group row align-items-end">
                  <div class="col">
                    <h6 class="mb-2 text-center">Dimensiones <span>(Expresadas en Centímetros)</span></h6>
                    <div class="row">
                      <div class="col-sm-4 d-flex align-items-center mb-2">
                        <label for="dimension-ancho">Ancho:  </label>
                        <input type="number" class="form-control form-control-user ml-2" id="dimension-ancho" name="dimension-ancho" autocomplete="off" min="1" max="150" >
                      </div>
                      <div class="col-sm-4 d-flex align-items-center mb-2">
                        <label for="dimension-largo">Largo:  </label>
                        <input type="number" class="form-control form-control-user ml-2" id="dimension-largo" name="dimension-Largo" autocomplete="off" min="1" max="150" >
                      </div>
                      <div class="col-sm-4 d-flex align-items-center mb-2">
                        <label for="dimension-alto">Alto:  </label>
                        <input type="number" class="form-control form-control-user ml-2" id="dimension-alto" name="dimension-alto" autocomplete="off" min="1" max="150" >
                      </div>
                    </div>
                  </div>
                </div>

              </form>
              <button id="boton_cotizar"  onclick="cotizador()" 
              class="btn btn-primary btn-block btn-lg mb-3">
                Cotizar envío
              </button>
  
              <!-- End of Main Content -->
            </div> <!-- End of Main Content -->
            <div id="result_cotizacion" class="mt-5"></div>
          </div>

          <div class="container-fluid" id="tienda">
            <div class="d-flex justify-content-end">
              <button class="btn btn-primary agg-producto" id="agregar-producto-tienda">Agregar Producto</button>
            </div>

            <div class="mt-2">
              <nav>
                <div class="nav nav-tabs" id="nav-tab" role="tablist">
                  <a class="nav-link active" id="nav-tienda-home-tab" data-toggle="tab" href="#nav-tienda-home" role="tab" aria-controls="nav-tienda-home" aria-selected="true">Tienda</a>
                  <a class="nav-link" id="nav-tienda-productos-tab" data-toggle="tab" href="#nav-tienda-productos" role="tab" aria-controls="nav-tienda-productos" aria-selected="false">Productos</a>
                  <a class="nav-link" id="nav-tienda-pedidos-tab" data-toggle="tab" href="#nav-tienda-pedidos" role="tab" aria-controls="nav-tienda-pedidos" aria-selected="false">Pedidos</a>
                </div>
              </nav>
              <div class="tab-content" id="nav-tienda-tabContent">
                <!-- Información de la tienda -->
                <div class="tab-pane fade show active" id="nav-tienda-home" role="tabpanel" aria-labelledby="nav-tienda-home-tab">
                  <div id="link-tienda"></div>
                  
                  <figure id="contenedor-logo-tienda" style="max-width: 150px;"
                  class="float-sm-left m-sm-0 mx-sm-3 d-flex flex-column align-items-center">
                    <img src="img\unnamed.png" id="img-logo-tienda" alt="logo" class="img-fluid my-2 rounded-circle"
                    style="max-height:100px; max-width: 100px;">

                    <button class="btn btn-primary" id="subir-logo-tienda">subir logo</button>
                    <input type="file" name="logo" id="logo-tienda" class="d-none">
                  </figure>

                  <form id="form-tienda" class="mt-4">
                    <div class="row">
                      <div class="form-group col-md">
                        <label for="nombre-tienda">Nombre de la tienda</label>
                        <input type="text" class="form-control" name="nombre_tienda"
                        id="nombre-tienda" maxlength="20" required>
                      </div>
                      <div class="form-group col-md-6">
                        <label for="nombre-propietario-tienda">Nombre del propietario</label>
                        <input type="text" class="form-control" name="nombre" id="nombre-propietario-tienda" required>
                      </div>
                    </div>
                    <div class="row">
                      <div class="form-group col-md">
                        <label for="url-tienda">URL de la tienda</label>
                        <input type="text" class="form-control" pattern="\w+|\d+"
                        style="text-transform: lowercase;"
                        name="tienda" id="url-tienda" maxlength="20" required>
                        <small id="ver-url-tienda"></small>
                        <div class="invalid-feedback">
                          URL de tienda no válido
                        </div>
                      </div>
                      <div class="form-group col-md-6">
                        <label for="celular-tienda">Número Celular</label>
                        <input type="number" class="form-control" name="celular" id="celular-tienda" maxlength="10" required>
                      </div>
                    </div>
                    <div class="row">
                      <div class="form-group col-md-6">
                        <label for="numero-documento-tienda">Número Documento</label>
                        <input type="number" class="form-control" name="numero_documento" id="numero-documento-tienda" required>
                      </div>
                      <div class="form-group col-md-6">
                        <label for="correo-tienda">Correo electrónico</label>
                        <input type="email" class="form-control" name="correo" id="correo-tienda" required>
                      </div>
                    </div>
                    <div class="row">
                      <div class="form-group col-md-6">
                        <label for="ciudad-tienda">Ciudad</label>
                        <input type="text" name="ciudad"
                        class="form-control" id="ciudad-tienda" required>
                        <small class="form-text text-muted">Ingrese la ciudad y seleccione del menú desplegable.</small>
                      </div>
                      <div class="form-group col-md-6">
                        <label for="dreccion-tienda">Dirección de recogida</label>
                        <input type="text" class="form-control" name="direccion" id="dreccion-tienda" required>
                      </div>
                    </div>
                    <div class="row">
                      <div class="form-group col-12">
                        <label for="descripcion-tienda">Descripción</label>
                        <textarea class="form-control" name="descripcion" id="descripcion-tienda" rows="5"></textarea>
                      </div>
                    </div>

                    <button type="button" class="btn btn-primary btn-block" id="actualizar-tienda">Actualizar tienda</button>
                  </form>
                </div>
                <!-- Fin de información de la tienda -->

                <!-- Mostrario de productos -->
                <div class="tab-pane p-3 fade" id="nav-tienda-productos" role="tabpanel" aria-labelledby="nav-tienda-productos-tab">
                  <div class="row px-2 d-none d-md-flex">
                    <p class="col-6 offset-1">Producto</p>
                    <p class="col">Cod</p>
                    <p class="col">Precio</p>
                    <p class="col">Inventario</p>
                  </div>
                  
                  <ul class="list-group lista-productos"></ul>
                </div>
                <!-- Fin de mostrario de productos -->

                <!-- historial de Pedidos -->
                <div class="tab-pane fade" id="nav-tienda-pedidos" role="tabpanel" aria-labelledby="nav-tienda-pedidos-tab">
                  <div class="card m-3 shadow-sm">
                    <div class="card-body">
                      <div class="row align-items-end">
                        <div class="form-group col-sm-4">
                          <label for="fecha_inicio-pedidos">Filtrar desde: </label>
                          <input type="date" class="form-control form-control-user"  id="fecha_inicio-pedidos" required>
                        </div>
                        <div class="form-group col-sm-4 mt-3">
                          <label for="fecha_final-pedidos">Filtrar hasta: </label>
                          
                          <input type="date" class="form-control form-control-user"  id="fecha_final-pedidos" required>
                        </div>
                        <div class="col">
                          <button id="btn-buscar-pedidos"
                          class="btn btn-primary btn-user btn-block mb-3">
                            Buscar
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                  
                  <div id="mostrador-pedidos-tienda">
                    <table id="tabla-pedidos-tienda" class="display table table-responsive" width="100%"></table>
                    
                  </div>
                </div>
                <!-- Fin de historial de Pedidos -->
              </div>
            </div>
          </div>

          <hr/>
          
          <div class="container-fluid p-5" id="perfil" style="display: none;">
            <div class="card p-5"> 
              <div class="text-center" >
                <h2>E-FLEX</h2>
                <h1 id="texto-cargar-datos" class="h4 text-gray-900 mb-4">Cargando datos....</h1>
                <div class="text-center text-danger" style="display: none;">
                  <a class="small text-secondary" >PERSONA NATURAL |</a>
                  <a class="small text-danger" href="javascript:mostrarEmpresa()"> EMPRESA</a>
                  <script>
                    function mostrarEmpresa(){
                      document.getElementById('persona-natural').style.display="none";
                      document.getElementById('empresa').style.display="block";
                    }
                  </script>
                </div>
              </br>
              </div>
              <div id="contenedor-datos-actualizar" style="display: none;">
                <h1 class="h4 text-gray-900 mb-4">Datos de usuario</h1>
              <form  class="user">
                <div class="form-group row">
                  <div class="col-sm-6 mb-3 mb-sm-0">
                    <h6>Nombres*</h6>
                    <input type="text" class="form-control form-control-user" id="CPNnombres"  required>
                  </div>
                  <div class="col-sm-6">
                    <h6>Apellidos*</h6>
                    <input type="text" class="form-control form-control-user" id="CPNapellidos"  required>
                  </div>
                </div>
                <div class="form-group row">
                  <div class="col-sm-6 mb-3 mb-sm-0">
                    <h6>Tipo documento*</6>
                    <h6></h6>
                    
                    <select  class="form-control form-control" id="CPNtipo_documento">
                      <option value="CC">CC</option> 
                      <option value="PASAPORTE">PASAPORTE</option>
                      <option value="NIT(RUT)">NIT (RUT)</option>
                    </select>
                  </div>
                  <div class="col-sm-6">
                    <h6>Número identificación*</h6>
                    <input type="number" class="form-control form-control-user" id="CPNnumero_documento"  required>
                  </div>
                </div>

                <div class="form-group row">
                  <div class="col-sm-6 mb-3 mb-sm-0">
                    <h6>Celular*</h6>
                    <input type="number" class="form-control form-control-user" id="CPNtelefono"  required>
                  </div>
                  <div class="col-sm-6">
                    <h6>Celular #2</h6>
                    <input type="number" class="form-control form-control-user" id="CPNcelular">
                  </div>
                  
                </div>

                <div class="form-group row">
                  <div class="col-sm-6 mb-3 mb-sm-0">
                    <h6>Ciudad*</h6>
                    <h6>**Digitar ciudad y luego elegir ciudad del menú desplegable**</h6>
                    
                    <!--
                    <input type="text" list="ciudades" class="form-control form-control-user" id="CPNciudad"  required>
                    -->
                    <input name=""  class="form-control form-control-user" id="CPNciudad" size="1" autocomplete="off"></input>
                    
                  </div>
                  <div class="col-sm-6">
                    <h6>Dirección de recogida*</h6>
                  </br>
                    <input type="text" class="form-control form-control-user" id="CPNdireccion"  required>
                  </div>
                  
                </div>

                <div class="form-group row">
                  <div class="col-sm-6 mb-3 mb-sm-0">
                    <h6>Barrio*</h6>
                    <input type="text" class="form-control form-control-user" id="CPNbarrio"  required>
                  </div>
                  <div class="col-sm-6">
                    <h6>Nombre de la empresa*</h6>
                    <input readonly="readonly" type="text" class="form-control form-control-user" id="CPNnombre_empresa"  required>
                  </div>
                  
                </div>

                <div class="form-group row">
                  <div class="col-md-6">
                    <h6>Correo electrónico*</h6>
                    <input readonly="readonly" type="email"  class="form-control form-control-user" id="CPNcorreo"
                      aria-describedby="emailHelp"  required>
                  </div>
                  <div class="col">
                    <h6>Cosas que envía</h6>
                    <input type="text" class="form-control form-control-user" id="CPNobjetos_envio" placeholder="objeto1,objeto2,etc..."  required>
                  </div>
                </div>
              
                <div class="form-group">
                </br> 
                </br>
                
                  <input type="checkbox"  name="" id="checkbox-banco" onchange="pruebacheck()"> Mostrar Datos Bancarios
                  </div>

                <div id="mostrar-ocultar-registro-bancario" style="display: none;">
                  <h6 class="text-danger">DATOS BANCARIOS</h6>
                </br>
                  <div class="form-group row">
                    
                    <div class="col-sm-6 mb-3 mb-sm-0">
                      <h6>Banco*</6>
                        <input type="text" class="form-control form-control-user" id="CPNbanco"  required>
                    </div>
                    <div class="col-sm-6">
                      <h6>Nombre representante*</h6>
                      <input type="text" class="form-control form-control-user" id="CPNnombre_representante"  required>
                    </div>
                  </div>

                  <div class="form-group row">
                    <div class="col-sm-6 mb-3 mb-sm-0">
                      <h6>Tipo de cuenta*</6>
                      <h6></h6>
                      
                      <select  class="form-control form-control" id="CPNtipo_de_cuenta">
                        <option value="Ahorros">Ahorros</option> 
                        <option value="Corriente">Corriente</option>
                        
                      </select>
                    </div>


                    <div class="col-sm-6">
                      <h6>Número de cuenta*</h6>
                      <input type="number" class="form-control form-control-user" id="CPNnumero_cuenta"  required>
                    </div>
                    
                  </div>

                  <div class="form-group row">
                    <div class="col-sm-6">
                      <h6>Confirmar número de cuenta*</h6>
                      <input type="number" class="form-control form-control-user" id="CPNconfirmar_numero_cuenta"  required>
                    </div>


                    <div class="col-sm-6 mb-3 mb-sm-0">
                      <h6>Tipo documento*</6>
                      <h6></h6>
                      
                      <select  class="form-control form-control" id="CPNtipo_documento_banco">
                        <option value="CC">CC</option> 
                        <option value="NIT">NIT</option>
                        <option value="Cédula extranjería">Cédula extranjería</option>
                        
                      </select>
                    </div>
                    
                  </div>

                  <div class="form-group row">
                    <div class="col-sm-6">
                      <h6>número de identificación*</h6>
                      <input type="number" class="form-control form-control-user" id="CPNnumero_identificacion_banco"  required>
                    </div>


                    <div class="col-sm-6">
                      <h6>Confirmar número de identificación*</h6>
                      <input type="number" class="form-control form-control-user" id="CPNconfirmar_numero_identificacion_banco"  required>
                    </div>
                    
                  </div>
                  
                </div>

                <div class="form-group">
                </br> 
              </br>
                
              <input type="checkbox" id="CPNcheck_terminos_condiciones" onchange="checkTerminosCondiciones()"> <a href="terminos.html">Acepto términos y condiciones</a>
              <div id="CPNdiv_terminos_condiciones" style="display: none;"></div>
            </div>  

            <!-- para activar o desactivar las guias automáticas, por ahora quedará inhabilitado -->
            <!-- <div class="custom-control custom-switch text-center m-2">
              <input type="checkbox" class="custom-control-input" id="switch-guias_automaticas">
              <label class="custom-control-label" for="switch-guias_automaticas">Sistema automatizado para generar guías (versión prueba) desactivado.</label>
            </div> -->
          </form>
          <!--Desactivado este boton por ahora-->
          <!-- <button onclick="actualizarCuenta()" class="btn btn-primary btn-user btn-block">
            Actualizar datos
          </button> -->
        </div>
        
        <hr>
        <div id="error_crear_cuenta"></div>
         <hr>
        </div>
          </div>
          <hr/>

          <div class="container-fluid" id="historial_guias" style="display: none;">
            <h3 class="m-0 font-weight-bold text-primary">Historial de guías</h3>
            <br>
            
            <!--Formulario de busqueda guias-->
            <div class="form-group row">
              <div class="col-sm-4 mb-3">
                <h6>Fecha inicio</h6>
                <input type="date" class="form-control form-control-user"  id="fecha_inicio" required>
              </div>
              <div class="col-sm-4 mb-3">
                <h6>Fecha final</h6>
                <input type="date" class="form-control form-control-user"  id="fecha_final" required>
              </div>
              <div class="col-sm-4">
                <h6>Número de Guía</h6>
                <input type="text" class="form-control form-control-user"  id="numeroGuia-historial_guias">
              </div>
            </div>
            <button  onclick="cambiarFecha()" id="btn-buscar-guias"
            class="btn btn-primary btn-user btn-block">
              Buscar
            </button>
            <br/>
            <div class="d-flex justify-content-center">
              <div id="cargador-guias" class="lds-ellipsis d-none"><div></div><div></div><div></div><div></div></div>
            </div>
            <div class="card-body" style="display: none;" id="nohaydatosHistorialGuias">
              <h6 class="text-danger">SIN DATOS EXISTENTES PARA TU BÚSQUEDA</h6>
            </div>
            <div class="card-shadow mb-4" style="display: none;" id="tabla-historial-guias">
              <div class="card-body">
                <h6>Seleccionar las guías para crear los Documentos</h6>
                <button class="btn btn-success mb-3" id="enviar-documentos" onclick="crearDocumentos()">Crear Documentos</button>
                
                <div class="table-responsive">
                  <table  class="display table table-bordered" id="dataTable" width="100%" cellspacing="0">  
                    <thead class="text-truncate">
                      <tr>
                        <th class="text-center"> 
                          Check
                          <input type="checkbox" name="check-select-all-guias" 
                          id="check-select-all-guias" autocomplete="off">
                        </th>
                        <th>Acciones</th>
                        <th># Guía E-FLEX</th>
                        <th># Guía transportadora</th>
                        <th>Estado</th>
                        <th>Transportadora</th>
                        <th>Tipo</th>
                        <th>Fecha generación</th>
                        <th>Remitente</th>
                        <th>Ciudad dest.</th>
                        <th>Nombre dest.</th>
                        <th>Seguro</th>
                        <th>Recaudo</th>
                        <th>Costo envío</th>
                      </tr>
                    </thead>
                    <tbody id="tabla-guias">
                      
                    </tbody>
                    <tfoot>
                      <tr>
                        <th>Check</th>
                        <th>Acciones</th>
                        <th># Guía E-FLEX</th>
                        <th># Guía transportadora</th>
                        <th>Estado</th>
                        <th>Transportadora</th>
                        <th>Tipo</th>
                        <th>Fecha generación</th>
                        <th>Remitente</th>
                        <th>Ciudad dest.</th>
                        <th>Nombre dest.</th>
                        <th>Seguro</th>
                        <th>Recaudo</th>
                        <th>Costo envío</th>
                      </tr>
                    </tfoot>
                  </table>
                </div>
              </div>
            </div>
            
          </div>
          
          <div class="container-fluid" id="buscar_guia" style="display: none;">
            <h1 class="h3 mb-4 text-gray-800">BUSCAR GUÍA</h1>
            <form class="user" action="estadoCompleto" method="post" name="buscarGuia">
              <div class="form-group row">
                <div class="col-sm-6 mb-3 mb-sm-0">
                  <h6>Ingresar en este campo el número de guía</h6>
                  <input type="text" class="form-control form-control-user" name="numGuia" 
                  placeholder="Ingresar número de guía" required>       
                </div>
                <br/>
              </div>
              <button style="display: block;" id="boton_cotizar" type="submit"  class="btn btn-primary btn-user btn-block">
                Buscar guía
              </button>
            </form>
          </div>
          
          <div class="container-fluid" id="documentos" style="display: none;">
            <h3 class="m-0 font-weight-bold text-primary">Historial de documentos</h3>
            <br>
            
            <!--Formulario de busqueda de documentos-->
            <div class="form-group row">
              <div class="form-group row">
                <div class="col-sm-6 mb-3 mb-sm-0">
                  <h6>Fecha inicio</h6>
                  <input type="date" class="form-control form-control-user"  id="docs-fecha-inicio"  required>
                </div>
                <div class="col-sm-6">
                  <h6>Fecha final</h6>
                  <input type="date" class="form-control form-control-user"  id="docs-fecha-final"  required>
                </div>
              </div>
            
              <button  onclick="actualizarHistorialDeDocumentos()" 
              class="btn btn-primary btn-user btn-block" id="btn-historial-docs">
                Buscar
              </button>  
            </div>
            <br/>
            <div class="card-body" style="display: none;" id="nohaydatosHistorialDocumentos">
            <h6 class="text-danger">SIN DATOS EXISTENTES PARA TU BÚSQUEDA</h6>
            </div>
            <div class="card-shadow mb-4" style="display: none;" id="historial-docs">
              <div class="row card-body" id="body-documentos">
                
              </div>
            </div>
            
          </div>

          <div class="container-fluid" id="crear_guia" style="display: none;">
            <!-- 404 Error Text -->
            <div class="text-center">
              <div class="error mx-auto" data-text="404">404</div>
              <p class="lead text-gray-800 mb-5">Página no encontrada</p>
              <p class="text-gray-500 mb-0">Intente realizar su consulta nuevamente</p>
              <a href="plataforma2.html">&larr; Regresar a la plataforma</a>
            </div>
          </div>

          <div class="container-fluid" id="novedades" style="display: none;">
            <div class="card mt-1">
              <div class="card-body">
                <form enctype="multipart/form-data" id="form-novedades">
                  <div class="form-group">
                    
                    <div class="btn-group col-12">
                      <button type="button" id="btn-vaciar-consulta" 
                      class="btn btn-secondary mt-4">Limpiar Consulta</button>

                      <button type="button" id="btn-revisar-novedades" 
                      class="btn btn-primary mt-4">Consultar Novedades</button>
                    </div>
                  </div>
                </form>
              </div>
            </div>
            <div class="d-flex justify-content-center">
              <div class="lds-ellipsis mt-4 d-none" id="cargador-novedades"><div></div>
              <div></div><div></div><div></div></div>
            </div>
            <div id="visor_novedades"></div>
          </div>

          <div class="container-fluid" id="pagos" style="display: none;">
            <div class="card my-5">
              <div class="card-body">
                <form enctype="multipart/form-data" id="form-pagos">
                  <div class="form-group">
                    <h2 class="text-center text-primary mb-4">Pagos Recibidos</h2>
                    <div class="d-none" id="filtrador-pagos">
                      <hr>
                      <span>Si decide Buscar por Guía, el filtro por fecha será desactivado automáticamente</span>
                      <div class="col-md-6 mt-2">
                        <a href="javascript:filtroFecha()" onclick="filtroFecha()"><input type="checkbox" name="activador_filtro_fecha" id="activador_filtro_fecha"></a>
                        <label for="activador_filtro_fecha">Activar Filtrado por fecha</label>
                      </div>
                        
                      <div class="row">
                        <div id="fecha-pagos" class="col-md-8 mt-2" style="display: none;">
                          <div class="form-group row mb-3">
                            <div class="col-sm-6 mb-3 mb-sm-0">
                              <h6>Fecha inicio</h6>
                              <input id="filtro-fechaI" type="date" class="form-control form-control-user">
                            </div>
                            <div class="col-sm-6">
                              <h6>Fecha final</h6>
                              <input id="filtro-fechaF" type="date" class="form-control form-control-user">
                            </div>
                          </div>
                        </div>
                        
                        <script>
                          filtroFecha();
                          function filtroFecha() {
                            if(document.getElementById("activador_filtro_fecha").checked){
                              document.getElementById("fecha-pagos").style.display = "block";
                            } else {
                              document.getElementById("fecha-pagos").style.display = "none";
                            }
                          }
                        </script>
  
                        <div class="col-12 col-md-4 mt-2">
                          <h6>Por Guía</h6>
                          <input type="text" name="filtro-pago-guia" class="form-control" id="filtro-pago-guia">
                        </div>
  
                        <div class="col d-flex justify-content-center form-check form-check-inline">
                          <input class="form-check-input" type="checkbox" id="filtro-trasnportadora1" name="filtro-trasnportadoras" value="Servientrega">
                          <label class="form-check-label" for="filtro-trasnportadora1">Servientrega</label>
                        </div>
                        <div class="col d-flex justify-content-center form-check form-check-inline">
                          <input class="form-check-input" type="checkbox" id="filtro-trasnportadora2" name="filtro-trasnportadoras" value="Envía">
                          <label class="form-check-label" for="filtro-trasnportadora2">Envía</label>
                        </div>
                        <div class="col d-flex justify-content-center form-check form-check-inline">
                          <input class="form-check-input" type="checkbox" id="filtro-trasnportadora3" name="filtro-trasnportadoras" value="TCC">
                          <label class="form-check-label" for="filtro-trasnportadora3">TCC</label>
                        </div>
                      </div>
                    </div>

                    <div class="custom-control custom-switch text-center m-2">
                      <input type="checkbox" class="custom-control-input" id="switch-habilitar-filtrado-pagos">
                      <label class="custom-control-label" for="switch-habilitar-filtrado-pagos">Habilitar busqueda avanzada</label>
                    </div>
                    <input type="button" id="btn-revisar_pagos" 
                    value="Revisar Pagos" class="btn btn-primary mt-4">
                  </div>
                </form>
              </div>
            </div>
            <div class="d-flex justify-content-center">
              <div class="lds-ellipsis mt-4 d-none" id="cargador-pagos"><div></div>
              <div></div><div></div><div></div></div>
            </div>
            <div>
              <table id="visor-pagos" class="table table-striped table-responsive" width="100%">
                <div id="filtrar-fecha-visor-pagos"></div>
                <thead></thead>
                <tbody></tbody>
                <tfoot></tfoot>
              </table>
            </div>
          </div>

          <div class="container-fluid" id="deudas" style="display: none;">
            <button class="btn btn-primary btn-lg mb-4" onclick="revisarGuiasSaldas()">Revisar Guías Saldadas</button>
            <div id="cargador-deudas" class="d-flex justify-content-center">
              <div class="d-none lds-ellipsis"><div></div><div></div><div></div><div></div></div>
            </div>
            <table id="visor-deudas" class="table table-striped table-responsive" width="100%">
              <thead></thead>
              <tbody></tbody>
              <tfoot></tfoot>
            </table>
          </div>

        </div>   
        <!-- Footer -->
        <footer class="sticky-footer bg-white">
          <div class="container my-auto">
            <div class="copyright text-center my-auto">
              <span>Copyright &copy; E-FLEX 2020</span>
            </div>
          </div>
        </footer>
        <!-- End of Footer -->
      </div>
      <!-- End of Content Wrapper -->
    </div>
    <!-- End of Page Wrapper -->
<!-------------------------------------------------------------------------------------------------------------------------->


    <!-- Scroll to Top Button-->
    <a class="scroll-to-top rounded" href="#wrapper">
    <i class="fas fa-angle-up"></i>
    </a>

    <!-- Logout Modal-->
    <div class="modal fade" id="cerrarSesionModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">¿Quieres salir de tu cuenta E-FLEX?</h5>
            <button class="close" type="button" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">×</span>
            </button>
          </div>

          <div class="modal-body">Presiona Salir, para cerrar sesión</div>
          <div class="modal-footer">
            <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancelar</button>
            <a class="btn btn-primary" href="index.html" onclick="cerrarSession()">Salir</a>
          </div>
        </div>
      </div>
    </div>


    <!--Avisos-->
    <div class="d-none" id="aviso" style="position: fixed; top: 10px; right: 10px;">
      <div class="card shadow h-100 py-2">
        <div class="card-body">
          <div class="row no-gutters align-items-center">
            <div class="col mr-2">
              <div id="titulo-aviso" class="text-x font-weight-bold text-uppercase mb-1"></div>
              <div id="texto-aviso" class="h6 mb-0 font-weight-bold text-gray-800"></div>
            </div>
            <div class="col-auto">
              <i class="fas fa-comments fa-2x text-gray-300"></i>
            </div>
          </div>
        </div>
      </div>
    </div>
    

<!-- Modal gestion novedades (sera controlado por javascript render.js)-->
<div class="modal fade" id="modal-gestionarNovedad" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="titulo-gestionarNovedad" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="titulo-gestionarNovedad">Gestionar Guía</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="container-fluid" id="contenedor-gestionarNovedad">
          Aquí va la información detallada de la guía seleccionada
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
      </div>
    </div>
  </div>
</div>  

<!--Modal para ver detalles de notificaciones-->
<div class="modal fade" id="modal-detallesNotificacion" data-backdrop="static" tabindex="-1" aria-labelledby="titulo-detallesNotificacion" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="titulo-detallesNotificacion">Detalles</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="container-fluid" id="contenedor-detallesNotificacion">
          Aquí irá la información detallada de la notificación seleccionada
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
      </div>
    </div>
  </div>
</div>  
    
    
    <!-- FIREBASE -->
    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/7.18.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.18.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.18.0/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.4/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.4/firebase-storage.js"></script>
    
    
    <!-- index.js -->
    <!--
      <script src="../../index.js" ></script>
    -->
    
    <!-- Bootstrap core JavaScript-->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    
    <!-- Core plugin JavaScript-->
    <script src="vendor/jquery-easing/jquery.easing.min.js"></script>
    
    <!-- main.js -->
    <script src="js/main.js"></script>
    <!-- Custom scripts for all pages-->
    <script src="js/sb-admin-2.min.js"></script>

    <!-- Page level plugins -->
    <script src="vendor/datatables/jquery.dataTables.min.js"></script>
    <script src="vendor/datatables/dataTables.bootstrap4.min.js"></script>

    <!-- Page level custom scripts -->
   <!-- <script src="js/demo/datatables-demo.js"></script> -->

    <!-- para controlar el acceso -->
    <script>
      let administracion = false;
    </script>
    
    <script src="js/render.js"></script>
    <script type="module" src="js/consultarCiudades.js"></script>
    <script src="js/cargadorDeDatos.js"></script>
    <script src="js/cotizador.js"></script>
    <script src="js/manejadorGuias.js"></script>
    <script src="js/gestionarTienda.js" type="module"></script>
  </body>
  
</html>

